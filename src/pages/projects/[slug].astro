---
import { projects } from "../../data/projects";
import Layout from "../../layouts/Layout.astro";

export async function getStaticPaths() {
  return projects.map((project) => ({
    params: { slug: project.slug },
  }));
}

const { slug } = Astro.params;
const project = projects.find((p) => p.slug === slug);

if (!project) {
  throw new Error(`Proyecto no encontrado: ${slug}`);
}
---

<Layout title="Mis proyectos" lang="es">
  <html>
    <head>
      <title>{project.title}</title>
    </head>
    <body class="bg-white dark:bg-gray-900 text-black dark:text-white">
      <div class="max-w-4xl mx-auto p-4">
        <h1 class="text-3xl font-bold mb-4">{project.title}</h1>
        <img
          src={project.imageUrl}
          alt={project.title}
          class="w-full h-64 object-cover mb-4"
        />
        <p>{project.details}</p>
        <a href="/projects" class="text-blue-500 hover:underline"
          >Volver a la galer√≠a</a
        >
      </div>
    </body>
  </html>
</Layout>
